{#
    Account Details Template
    - Allows users to view and update their account information.
    - Displays flash messages for feedback on updates.
    - Includes form fields for name, email, and password change.
    - Integrates with account.css for custom styling.
    - Extends user_Base.html for consistent layout and navigation.
#}
{% extends "user_Base.html" %}
{% block title %}Account Details{% endblock %}
{% block extra_css %}
<script>
    const API_URL = "{{ api_url }}";
</script>
{% endblock %}
{% block content %}
<a href="{{ url_for('products.show_products') }}" class="btn-continue-shopping">← Continue Shopping</a>
<link rel="stylesheet" href="{{ url_for('static', filename='styles/account.css') }}">
<div class="row justify-content-center">
    <div class="col-md-6">
        <h2 class="mb-4">Account Details</h2>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}
        <form method="POST" action="{{ url_for('account.account') }}">
            <div class="mb-3">
                <label for="name" class="form-label">Full Name</label>
                <input type="text" class="form-control" id="name" name="name" value="{{ user.name }}" required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email address</label>
                <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" required>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">New Password <small class="text-muted">(leave blank to keep current)</small></label>
                <input type="password" class="form-control" id="password" name="password" autocomplete="new-password">
            </div>
            <button type="submit" class="btn btn-primary">Update Account</button>
        </form>
    </div>
</div>
{% endblock %}